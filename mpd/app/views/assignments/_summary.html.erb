<% a = summary -%>
<% if false -%>

<% add_javascript 'https://www.google.com/jsapi' -%>
<div id='assn-<%= a.id %>-chart' style="width:600px;height:250px;"><i>Loading...</i></div>
<script type="text/javascript">

	// Load the Visualization API and the piechart package.
	google.load('visualization', '1.0', {'packages':['corechart']});
	
	// Set a callback to run when the Google Visualization API is loaded.
	google.setOnLoadCallback(drawChart);
	
	// Callback that creates and populates a data table,
	// instantiates the pie chart, passes in the data and
	// draws it.
	function drawChart() {
	
		// Create the data table.
		var data = google.visualization.arrayToDataTable([
			['Type', 'In-Hand', 'Pledged'],
			['Monthly',
				<%= a.monthly_in_hand_pct * 100 %>,
				<%= a.monthly_pledged_pct * 100 %>],
			['One-time',
				<%= a.onetime_in_hand_pct * 100  %>,
				<%= a.onetime_pledged_pct * 100 %>],
			]);
			
		// Set chart options
		var options = {'title':'<%= a.user.display_name %>',
			'hAxis': {title: 'Percentage'} };
			
		// Instantiate and draw our chart, passing in some options.
		var chart = new google.visualization.BarChart(document.getElementById('assn-<%= a.id %>-chart'));
		chart.draw(data, options);
}
</script>
<% end -%>
